<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tgraphs</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">PenroseKiteDart</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Chris Reade 2021</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>chrisreade@mac.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tgraphs</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This is the main module for Tgraphs which collects and exports the various other Tgraph modules 
and includes a definition of emplace and other experimental combinations.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Relabelling">Relabelling</a> = Map <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:emplace">emplace</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:emplacements">emplacements</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>]</li><li class="src short"><a href="#v:emplaceChoices">emplaceChoices</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>]</li><li class="src short"><a href="#v:makeChoices">makeChoices</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>]</li><li class="src short"><a href="#v:compForce">compForce</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:allCompFs">allCompFs</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>]</li><li class="src short"><a href="#v:allComps">allComps</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>]</li><li class="src short"><a href="#v:maxCompose">maxCompose</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:maxFCompose">maxFCompose</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:removeIncompleteTiles">removeIncompleteTiles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:relabelGraph">relabelGraph</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:relabelFace">relabelFace</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a></li><li class="src short"><a href="#v:relabelV">relabelV</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:all3">all3</a> :: (a -&gt; b) -&gt; (a, a, a) -&gt; (b, b, b)</li><li class="src short"><a href="#v:partRelabelFixChange">partRelabelFixChange</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:newVMapAvoid">newVMapAvoid</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a></li><li class="src short"><a href="#v:relabelAny">relabelAny</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:matchByCommonEdge">matchByCommonEdge</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:tryMatchByCommonEdge">tryMatchByCommonEdge</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; Either [String] <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:matchByEdges">matchByEdges</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:tryMatchByEdges">tryMatchByEdges</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; Either [String] <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:findRelabelling">findRelabelling</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a></li><li class="src short"><a href="#v:initVMap">initVMap</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a></li><li class="src short"><a href="#v:differences">differences</a> :: [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]</li><li class="src short"><a href="#v:addRelabel">addRelabel</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a></li><li class="src short"><a href="#v:addRelabelBdCheck">addRelabelBdCheck</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a></li><li class="src short"><a href="#v:checkForBoundaryThirdV">checkForBoundaryThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]</li><li class="src short"><a href="#v:noConflictCheck">noConflictCheck</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; Bool</li><li class="src short"><a href="#v:thirdVAngles">thirdVAngles</a> :: <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, (Int, Int))</li><li class="src short"><a href="#v:matchVsIn">matchVsIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]</li><li class="src short"><a href="#v:correspondingIn">correspondingIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Maybe <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a></li><li class="src short"><a href="#v:matchFaceIn">matchFaceIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] (Maybe <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>)</li><li class="src short"><a href="#v:twoVMatch">twoVMatch</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Bool</li><li class="src short"><a href="#v:sameFaceType">sameFaceType</a> :: <a href="HalfTile.html#t:HalfTile" title="HalfTile">HalfTile</a> rep1 -&gt; <a href="HalfTile.html#t:HalfTile" title="HalfTile">HalfTile</a> rep2 -&gt; Bool</li><li class="src short">module <a href="Tgraph-Prelude.html">Tgraph.Prelude</a></li><li class="src short">module <a href="Tgraph-Decompose.html">Tgraph.Decompose</a></li><li class="src short">module <a href="Tgraph-Compose.html">Tgraph.Compose</a></li><li class="src short">module <a href="Tgraph-Force.html">Tgraph.Force</a></li><li class="src short">module <a href="Tgraph-Convert.html">Tgraph.Convert</a></li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Relabelling" class="def">Relabelling</a> = Map <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#t:Relabelling" class="selflink">#</a></p><div class="doc"><p>Relabelling is a special case of mappings from vertices to vertices.
 We use the identity map for vertices not found in the mapping domain
 (see relabelV).  Relabellings are expected to be 1-1.       </p></div></div><div class="top"><p class="src"><a id="v:emplace" class="def">emplace</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:emplace" class="selflink">#</a></p><div class="doc"><p>emplace does maximal composing with force and composeG, 
 then applies decomposeG and force repeatedly back to the starting level.
 It produces the emplacement of influence of the argument graph.   </p></div></div><div class="top"><p class="src"><a id="v:emplacements" class="def">emplacements</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>] <a href="#v:emplacements" class="selflink">#</a></p><div class="doc"><p>emplacements is best supplied with a maximally composed or near maximally composed graph
 It produces an infinite list of emplacements of the starting graph and its decompositions.</p></div></div><div class="top"><p class="src"><a id="v:emplaceChoices" class="def">emplaceChoices</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>] <a href="#v:emplaceChoices" class="selflink">#</a></p><div class="doc"><p>a version of emplace using makeChoices at the top level.
 after makeChoices we use emplace to attempt further compositions but with no further choices</p></div></div><div class="top"><p class="src"><a id="v:makeChoices" class="def">makeChoices</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>] <a href="#v:makeChoices" class="selflink">#</a></p><div class="doc"><p>makeChoices is a temporary tool which does not attempt to analyse choices for correctness.
It can thus create some choices which will be incorrect.
The unknowns returned from classifyDartWings can become largeKiteCentres or largeDartBases.
This produces 2^n choices where n is the number of unknowns (excluding lone dart wing tips with valencyD 2).</p></div></div><div class="top"><p class="src"><a id="v:compForce" class="def">compForce</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:compForce" class="selflink">#</a></p><div class="doc"><p>compForce does a force then composeG but it
 by-passes the check on the composed graph because the argument was forced</p></div></div><div class="top"><p class="src"><a id="v:allCompFs" class="def">allCompFs</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>] <a href="#v:allCompFs" class="selflink">#</a></p><div class="doc"><p>allCompFs g produces a list of all forced compositions starting from g up to but excluding the empty graph</p></div></div><div class="top"><p class="src"><a id="v:allComps" class="def">allComps</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>] <a href="#v:allComps" class="selflink">#</a></p><div class="doc"><p>allComps g produces a list of all compositions starting from g up to but excluding the empty graph.
 This is not safe in general as it can fail by producing
 a non-connected graph or graph with crossing boundaries.</p></div></div><div class="top"><p class="src"><a id="v:maxCompose" class="def">maxCompose</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:maxCompose" class="selflink">#</a></p><div class="doc"><p>maxCompose and maxFCompose produce a maximal graph.</p></div></div><div class="top"><p class="src"><a id="v:maxFCompose" class="def">maxFCompose</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:maxFCompose" class="selflink">#</a></p><div class="doc"><p>maxCompose and maxFCompose produce a maximal graph.</p></div></div><div class="top"><p class="src"><a id="v:removeIncompleteTiles" class="def">removeIncompleteTiles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:removeIncompleteTiles" class="selflink">#</a></p><div class="doc"><p>remove halftile faces that do not have their matching half tile</p></div></div><div class="top"><p class="src"><a id="v:relabelGraph" class="def">relabelGraph</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:relabelGraph" class="selflink">#</a></p><div class="doc"><p>Uses a relabelling to change vertices in a Tgraph
 relabelGraph vmap g will produce a valid Tgraph provided:
 g is a valid Tgraph, and
 the mapping vmap extended with the identity is 1-1 on vertices in g.
 (Vertices of g that are not in the domain of the mapping are left unchanged.)</p></div></div><div class="top"><p class="src"><a id="v:relabelFace" class="def">relabelFace</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> <a href="#v:relabelFace" class="selflink">#</a></p><div class="doc"><p>Uses a relabelling to relabel the three vertices of a face
 Any vertex not in the domain of the mapping is left unchanged.
 The mapping should be 1-1 on the 3 vertices to avoid creating a self loop edge.</p></div></div><div class="top"><p class="src"><a id="v:relabelV" class="def">relabelV</a> :: <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:relabelV" class="selflink">#</a></p><div class="doc"><p>relabelV vmap v. Uses relabelling vmap to find a replacement for v (leaves as v if none found)
 I.e relabelV turns a relabelling into a total function using identity for undefined cases. </p></div></div><div class="top"><p class="src"><a id="v:all3" class="def">all3</a> :: (a -&gt; b) -&gt; (a, a, a) -&gt; (b, b, b) <a href="#v:all3" class="selflink">#</a></p><div class="doc"><p>Applies a function to all three elements of a triple</p></div></div><div class="top"><p class="src"><a id="v:partRelabelFixChange" class="def">partRelabelFixChange</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:partRelabelFixChange" class="selflink">#</a></p><div class="doc"><p>partRelabelFixChange fix change g - produces a new Tgraph from g by relabelling.
 Any vertex in g that is in the list fix will remain unchanged.
 All Other vertices in g that are in the list change will be changed to new vertices that are
 neither in g nor in the list change nor in the list fix.
 (If a vertex in g appears in both fix and change, it will remain unchanged) </p></div></div><div class="top"><p class="src"><a id="v:newVMapAvoid" class="def">newVMapAvoid</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> <a href="#v:newVMapAvoid" class="selflink">#</a></p><div class="doc"><p>newVMapAvoid avoid vs - produces a 1-1 mapping from vertices in vs to new vertices
 such that no new vertex is in the list avoid or in vs</p></div></div><div class="top"><p class="src"><a id="v:relabelAny" class="def">relabelAny</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:relabelAny" class="selflink">#</a></p><div class="doc"><p>Relabel all vertices in Tgraph using new labels 1..n (where n is the number of vertices)</p></div></div><div class="top"><p class="src"><a id="v:matchByCommonEdge" class="def">matchByCommonEdge</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:matchByCommonEdge" class="selflink">#</a></p><div class="doc"><p>matchByCommonEdge g1 e g2  produces a relabelled version of g2 that is
consistent with g1 on their overlap.
The overlaping region must contain the common directed edge e without relabelling.
This produces an error if a mismatcch is found in the overlap.</p><p>CAVEAT: The overlap must be a SINGLE tile-connected region in g1.
(If the overlap contains more than one tile-connected region the result may not be
a correct relabelling of g2)    </p></div></div><div class="top"><p class="src"><a id="v:tryMatchByCommonEdge" class="def">tryMatchByCommonEdge</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; Either [String] <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:tryMatchByCommonEdge" class="selflink">#</a></p><div class="doc"><p>tryMatchByCommonEdge g1 e g2  produces either Right g where g is a relabelled version of g2 that is
consistent with g1 on their overlap or Left lines if there is a mismatch (lines explaining the problem).
The overlaping region must contain the common directed edge e without relabelling.</p><p>CAVEAT: The overlap must be a SINGLE tile-connected region in g1.
(If the overlap contains more than one tile-connected region the result may not be
a correct relabelling of g2)    </p></div></div><div class="top"><p class="src"><a id="v:matchByEdges" class="def">matchByEdges</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:matchByEdges" class="selflink">#</a></p><div class="doc"><p>matchByEdges (g1,e1) (g2,e2)  produces a relabelled version of g2 that is
consistent with g1 on their overlap.
The overlapping region must contain the directed edge e1 in g1 and e2 in g2,
which will be identified by the relabelling of g2.
This produces an error if a mismatcch is found in the overlap.</p><p>CAVEAT: The overlap must be a SINGLE tile-connected region in g1.
(If the overlap contains more than one tile-connected region the result may not be
a correct relabelling of g2)    </p></div></div><div class="top"><p class="src"><a id="v:tryMatchByEdges" class="def">tryMatchByEdges</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>) -&gt; Either [String] <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:tryMatchByEdges" class="selflink">#</a></p><div class="doc"><p>tryMatchByEdges (g1,e1) (g2,e2) produces either Right g where g is a relabelled version of g2 that is
consistent with g1 on their overlap or Left lines if there is a mismatch (lines explaining the problem).
The overlapping region must contain the directed edge e1 in g1 and e2 in g2,
which will be identified by the relabelling of g2.</p><p>CAVEAT: The overlap must be a SINGLE tile-connected region in g1.
(If the overlap contains more than one tile-connected region the result may not be
a correct relabelling of g2)    </p></div></div><div class="top"><p class="src"><a id="v:findRelabelling" class="def">findRelabelling</a> :: (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) -&gt; (<a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> <a href="#v:findRelabelling" class="selflink">#</a></p><div class="doc"><p>findRelabelling is an auxiliary function for tryMatchByEdges and tryMatchByCommonEdge.
fc1 and fc2 should be matching face types and have at least 2 vertices the same (without relabelling),
with fc1 in g1 and fc2 in g2.
g2 must have no vertices in common with g1 except for the common vertices in fc1 and fc2.
findRelabelling (g1,fc1) (g2,fc2) - produces either Right rel where
rel is a relabelling map to make g2 consistent with g1 in a region of overlap if this is possible, or
Left lines if there is a mismatch (lines explaining the problem).
In the successful case rel when applied to fc2 will be identical to fc1.</p><p>CAVEAT: The common overlap needs to be a SINGLE region of tile-connected faces in g1.
The common region must contain fc1 in g1 and fc2 in g2.
This may not produce correct results if there are other overlaps not tile-connected in g1
to the region containing fc1</p></div></div><div class="top"><p class="src"><a id="v:initVMap" class="def">initVMap</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> <a href="#v:initVMap" class="selflink">#</a></p><div class="doc"><p>initVMap f1 f2 - creates a relabelling so that
 if applied to face f2, the vertices will match with face f1 exactly.</p></div></div><div class="top"><p class="src"><a id="v:differences" class="def">differences</a> :: [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] <a href="#v:differences" class="selflink">#</a></p><div class="doc"><p>selects only non-matching pairs from a list</p></div></div><div class="top"><p class="src"><a id="v:addRelabel" class="def">addRelabel</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> <a href="#v:addRelabel" class="selflink">#</a></p><div class="doc"><p>addRelabel is used by findRelabelling to build a relabelling map which can fail, producing Left lines.
In the successful case (addRelabel g processing tried awaiting vmap) produces a Right rel
where rel is the required relabelling. The arguments are:
g - the Tgraph being matched against.
processing - a list of faces to be matched next where
each has an edge in common with at least one previously matched face (or it is the starting face).
tried - a list of faces that have been checked for a matching face in g but none found.
They may still be on the boundary of g.
awaiting - a list of faces that have not yet been tried for a match and are not
tile-connected to any faces already matched.
vmap - a vertex to vertex mapping used to store relabelling information during the process.</p><p>The idea is that from a single matched starting face we process faces that share an edge with a
previously matched face. We prioritorize processing faces that have a match in g (with 2 matching vertices).
If a face is tried but has no such match, it is stacked up in the tried list to await
a check (with addRelabelBdCheck) for boundary cases after all faces in the overlap have been processed
(when processing == []).
If a processed face has an edge in common with a face in g but the faces do not match, this
indicates a mismatch on the overlap and Left ... is returned.</p></div></div><div class="top"><p class="src"><a id="v:addRelabelBdCheck" class="def">addRelabelBdCheck</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> -&gt; Either [String] <a href="Tgraphs.html#t:Relabelling" title="Tgraphs">Relabelling</a> <a href="#v:addRelabelBdCheck" class="selflink">#</a></p><div class="doc"><p>addRelabelBdCheck is an auxiliary function for addRelabel to check boundary cases.
When it is called, all faces in the overlap have been processed.
The awaiting list is then dropped because:
faces in awaiting cannot have an edge in common with the processed overlap
and therefore cannot have a  boundary edge.
(If they have a single boundary vertex, this already has a relabelling in vMap)
It remains to process the tried faces to see if they are on the boundary.
If not, they can be ignored, but if they have a boundary edge, we need to find if the third vertex 
coincides with a neighbouring boundary vertex, in case this vertex also needs relabelling.</p><p>CAVEAT: All this assumes the overlap was a single region (satisfying Tgraph proerties) </p></div></div><div class="top"><p class="src"><a id="v:checkForBoundaryThirdV" class="def">checkForBoundaryThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] <a href="#v:checkForBoundaryThirdV" class="selflink">#</a></p><div class="doc"><p>checkForBoundaryThirdV bdry fc - fc must be a new face sharing a boundary edge in bdry.
It checks if the third vertex of fc coincides with a third vertex on the neighbouring boundary
(with possibly different label).  If this is NOT the case  Right [] is returned.
If this is the case, a check is made that the face has no conflicts with faces on the boundary.
If there are no conflicts, Right [(v,v')] is returned to indicate the relabelling
required for third vertex v (of fc) to match with the found vertex v' on the boundary.
If there is a conflict, Left lines is returned (where lines explains the conflict)</p><p>CAVEAT: No location checking is done to check for a non-local touching vertex.</p></div></div><div class="top"><p class="src"><a id="v:noConflictCheck" class="def">noConflictCheck</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; Bool <a href="#v:noConflictCheck" class="selflink">#</a></p><div class="doc"><p>noConflictCheck fc bdry - f must be a new face sharing a boundary directed edge in bdry.
 It returns true if f has no conflicts with its neighbouring faces on the boundary.</p></div></div><div class="top"><p class="src"><a id="v:thirdVAngles" class="def">thirdVAngles</a> :: <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, (Int, Int)) <a href="#v:thirdVAngles" class="selflink">#</a></p><div class="doc"><p>thirdVAngles e f - the directed edge e must be one of the directed edges of face f.
 The result is the third vertex of f paired with the two internal angles of the face on the directed edge
 (in order).
 The internal angles are expressed as a pair of integer multiples of ttangle (so 1,2,or 3).
 These numbers are used by findThirdV.</p></div></div><div class="top"><p class="src"><a id="v:matchVsIn" class="def">matchVsIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] [(<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] <a href="#v:matchVsIn" class="selflink">#</a></p><div class="doc"><p>matchVsIn g f - looks for a face in g that corresponds to f (sharing a directed edge),
If the corresponding face does not match properly (with twoVMatch) this stops the
matching process returning Left ... to indicate a failed match.
Otherwise it returns Right [(v,v')] when the third vertices are different (a relabel for a full match)
It returns Right [] if either there is no corresponding face or if there is a corresponding
face which matches all 3 vertices.</p></div></div><div class="top"><p class="src"><a id="v:correspondingIn" class="def">correspondingIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Maybe <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> <a href="#v:correspondingIn" class="selflink">#</a></p><div class="doc"><p>correspondingIn g fc - returns  Just f if f is a face in g with a directed edge matching an edge in fc.
 It does NOT check if the faces are the same with same ordering of edges.
 It returns Nothing if no such face is found.</p></div></div><div class="top"><p class="src"><a id="v:matchFaceIn" class="def">matchFaceIn</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Either [String] (Maybe <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) <a href="#v:matchFaceIn" class="selflink">#</a></p><div class="doc"><p>matchFaceIn g f - looks for a face in g that corresponds to f (sharing a directed edge),
If the corresponding face does not match properly (with twoVMatch) this stops the
matching process returning Left ... to indicate a failed match.
Otherwise it returns either Right (Just f) where f is the matched face or
Right Nothing if there is no corresponding face.</p></div></div><div class="top"><p class="src"><a id="v:twoVMatch" class="def">twoVMatch</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Bool <a href="#v:twoVMatch" class="selflink">#</a></p><div class="doc"><p>twoVMatch f1 f2 is True if the two tilefaces are the same except
 for a single vertex label possibly not matching.</p></div></div><div class="top"><p class="src"><a id="v:sameFaceType" class="def">sameFaceType</a> :: <a href="HalfTile.html#t:HalfTile" title="HalfTile">HalfTile</a> rep1 -&gt; <a href="HalfTile.html#t:HalfTile" title="HalfTile">HalfTile</a> rep2 -&gt; Bool <a href="#v:sameFaceType" class="selflink">#</a></p><div class="doc"><p>sameFaceType f1 f2 is True if f1 and f2  are of the same form
 (i.e. both LD or both RD or both LK or both RK)</p></div></div><div class="top"><p class="src">module <a href="Tgraph-Prelude.html">Tgraph.Prelude</a></p></div><div class="top"><p class="src">module <a href="Tgraph-Decompose.html">Tgraph.Decompose</a></p></div><div class="top"><p class="src">module <a href="Tgraph-Compose.html">Tgraph.Compose</a></p></div><div class="top"><p class="src">module <a href="Tgraph-Force.html">Tgraph.Force</a></p></div><div class="top"><p class="src">module <a href="Tgraph-Convert.html">Tgraph.Convert</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.25.1</p></div></body></html>