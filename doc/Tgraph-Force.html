<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tgraph.Force</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">PenroseKiteDart</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Chris Reade 2021</td></tr><tr><th>License</th><td>BSD-style</td></tr><tr><th>Maintainer</th><td>chrisreade@mac.com</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tgraph.Force</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Touching vertex checking
</a></li><li><a href="#g:2">Boundary operations
</a></li><li><a href="#g:3">Updates and ForceState types
</a></li><li><a href="#g:4">forcing operations
</a></li><li><a href="#g:5">Inspecting Force Steps
</a></li><li><a href="#g:6">Single Force Steps
</a></li><li><a href="#g:7">Conflict Test
</a></li><li><a href="#g:8">Forcing Rules become Update Generators
</a></li><li><a href="#g:9">Ten Update Generators (with corresponding Finders)
</a></li><li><a href="#g:10">Six Update Makers
</a></li><li><a href="#g:11">Other Forcing operations
</a></li><li><a href="#g:12">Adding faces (Auxiliary operations)
</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module includes force plus related operations for testing and experimenting.
It also exposes the calculation of relative angle of edges at vertices used to find existing edges.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:touchCheckOn">touchCheckOn</a> :: Bool</li><li class="src short"><a href="#v:touchCheck">touchCheck</a> :: Point V2 Double -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> a (Point V2 Double) -&gt; Bool</li><li class="src short"><a href="#v:tooClose">tooClose</a> :: Point V2 Double -&gt; Point V2 Double -&gt; Bool</li><li class="src short"><span class="keyword">data</span> <a href="#t:Boundary">Boundary</a> = <a href="#v:Boundary">Boundary</a> {<ul class="subs"><li><a href="#v:bDedges">bDedges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</li><li><a href="#v:bvFacesMap">bvFacesMap</a> :: <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</li><li><a href="#v:bvLocMap">bvLocMap</a> :: <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> (Point V2 Double)</li><li><a href="#v:allFaces">allFaces</a> :: [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</li><li><a href="#v:allVertices">allVertices</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>]</li><li><a href="#v:nextVertex">nextVertex</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li></ul>}</li><li class="src short"><a href="#v:makeBoundary">makeBoundary</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></li><li class="src short"><a href="#v:recoverGraph">recoverGraph</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:changeVFMap">changeVFMap</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</li><li class="src short"><a href="#v:facesAtBV">facesAtBV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</li><li class="src short"><a href="#v:boundaryFaces">boundaryFaces</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</li><li class="src short"><span class="keyword">type</span> <a href="#t:Update">Update</a> = (Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>)</li><li class="src short"><span class="keyword">type</span> <a href="#t:UpdateMap">UpdateMap</a> = <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:ForceState">ForceState</a> = <a href="#v:ForceState">ForceState</a> {<ul class="subs"><li><a href="#v:boundaryState">boundaryState</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></li><li><a href="#v:updateMap">updateMap</a> :: <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a></li></ul>}</li><li class="src short"><span class="keyword">type</span> <a href="#t:UpdateGenerator">UpdateGenerator</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:BoundaryChange">BoundaryChange</a> = <a href="#v:BoundaryChange">BoundaryChange</a> {<ul class="subs"><li><a href="#v:newBoundary">newBoundary</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></li><li><a href="#v:removedEdges">removedEdges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</li><li><a href="#v:revisedEdges">revisedEdges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</li></ul>}</li><li class="src short"><a href="#v:affectedBoundary">affectedBoundary</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</li><li class="src short"><a href="#v:force">force</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:wholeTiles">wholeTiles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:forceWith">forceWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:forceAll">forceAll</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a></li><li class="src short"><a href="#v:initForceState">initForceState</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a></li><li class="src short"><a href="#v:reviseUpdates">reviseUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a></li><li class="src short"><a href="#v:isSafeUpdate">isSafeUpdate</a> :: <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; Bool</li><li class="src short"><a href="#v:findSafeUpdate">findSafeUpdate</a> :: <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; Maybe <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a></li><li class="src short"><a href="#v:stepForce">stepForce</a> :: Int -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a></li><li class="src short"><a href="#v:stepForceWith">stepForceWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; Int -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a></li><li class="src short"><a href="#v:oneStepWith">oneStepWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe (<a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a>, <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a>)</li><li class="src short"><a href="#v:oneStepF">oneStepF</a> :: <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe (<a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a>, <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a>)</li><li class="src short"><a href="#v:tryUnsafes">tryUnsafes</a> :: <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a></li><li class="src short"><a href="#v:doSafeUpdate">doSafeUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a></li><li class="src short"><a href="#v:commonV">commonV</a> :: (Eq b, Show b) =&gt; [(b, b)] -&gt; b</li><li class="src short"><a href="#v:tryUnsafeUpdate">tryUnsafeUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; Maybe <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a></li><li class="src short"><a href="#v:doUpdate">doUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a></li><li class="src short"><a href="#v:noConflict">noConflict</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Bool</li><li class="src short"><a href="#v:allUGenerator">allUGenerator</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><span class="keyword">type</span> <a href="#t:UFinder">UFinder</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; [(<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>)]</li><li class="src short"><span class="keyword">type</span> <a href="#t:UMaker">UMaker</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a></li><li class="src short"><a href="#v:boundaryFilter">boundaryFilter</a> :: (<a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Bool) -&gt; <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:makeGenerator">makeGenerator</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> -&gt; <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> -&gt; <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:wholeTileUpdates">wholeTileUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:incompleteHalves">incompleteHalves</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:kiteBelowDartUpdates">kiteBelowDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:nonKDarts">nonKDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:kiteWingDartOriginUpdates">kiteWingDartOriginUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:kitesWingDartOrigin">kitesWingDartOrigin</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:kiteGapUpdates">kiteGapUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:kiteGaps">kiteGaps</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:secondTouchingDartUpdates">secondTouchingDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:noTouchingDarts">noTouchingDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:mustbeLDB">mustbeLDB</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; Bool</li><li class="src short"><a href="#v:hasAnyMatchingE">hasAnyMatchingE</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; Bool</li><li class="src short"><a href="#v:sunStarUpdates">sunStarUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:almostSunStar">almostSunStar</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:dartKiteTopUpdates">dartKiteTopUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:noKiteTopDarts">noKiteTopDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:thirdDartUpdates">thirdDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:missingThirdDarts">missingThirdDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:queenDartUpdates">queenDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:queenMissingDarts">queenMissingDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:queenKiteUpdates">queenKiteUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a></li><li class="src short"><a href="#v:queenMissingKite">queenMissingKite</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a></li><li class="src short"><a href="#v:completeHalf">completeHalf</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:addKiteShortE">addKiteShortE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:addDartShortE">addDartShortE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:completeSunStar">completeSunStar</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:addKiteLongE">addKiteLongE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:addDartLongE">addDartLongE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a></li><li class="src short"><a href="#v:forceSub">forceSub</a> :: <a href="Tgraph-Prelude.html#t:SubTgraph" title="Tgraph.Prelude">SubTgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:SubTgraph" title="Tgraph.Prelude">SubTgraph</a></li><li class="src short"><a href="#v:addHalfKite">addHalfKite</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:addHalfDart">addHalfDart</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:forceLDB">forceLDB</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:forceLKC">forceLKC</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a></li><li class="src short"><a href="#v:mustFind">mustFind</a> :: Foldable t =&gt; (p -&gt; Bool) -&gt; t p -&gt; p -&gt; p</li><li class="src short"><a href="#v:findThirdV">findThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; (Int, Int) -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:anglesForJoinRD">anglesForJoinRD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForJoinLD">anglesForJoinLD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForJoinRK">anglesForJoinRK</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForJoinLK">anglesForJoinLK</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForLongLD">anglesForLongLD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForLongRD">anglesForLongRD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForLongRK">anglesForLongRK</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForLongLK">anglesForLongLK</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForShortLD">anglesForShortLD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForShortRD">anglesForShortRD</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForShortLK">anglesForShortLK</a> :: (Int, Int)</li><li class="src short"><a href="#v:anglesForShortRK">anglesForShortRK</a> :: (Int, Int)</li><li class="src short"><span class="keyword">newtype</span> <a href="#t:IntAngle">IntAngle</a> = <a href="#v:IntAngle">IntAngle</a> Int</li><li class="src short"><a href="#v:intAngle">intAngle</a> :: Int -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></li><li class="src short"><a href="#v:anti">anti</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></li><li class="src short"><a href="#v:clock">clock</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></li><li class="src short"><a href="#v:searchThirdV">searchThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:findClockAt">findClockAt</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:findAntiAt">findAntiAt</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:errorCheckAnti">errorCheckAnti</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:errorCheckClock">errorCheckClock</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></li><li class="src short"><a href="#v:smallerAngle">smallerAngle</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Bool</li><li class="src short"><a href="#v:allAnglesClock">allAnglesClock</a> :: [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]</li><li class="src short"><a href="#v:allAnglesAnti">allAnglesAnti</a> :: [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]</li><li class="src short"><a href="#v:intAngleAt">intAngleAt</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></li><li class="src short"><a href="#v:faceAngles">faceAngles</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; [<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>]</li><li class="src short"><a href="#v:testAngles">testAngles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; ([(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)], [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)])</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Touching vertex checking
</h1></a><div class="top"><p class="src"><a id="v:touchCheckOn" class="def">touchCheckOn</a> :: Bool <a href="#v:touchCheckOn" class="selflink">#</a></p><div class="doc"><p>touchCheckOn is a global variable used to switch on/off
    checks for touching vertices when new vertices are added to a graph.
    Used by touchCheck. 
    This should be True for safety.
    If it is switched to False, all results of forcing need to be checked
    for touching vertices.</p></div></div><div class="top"><p class="src"><a id="v:touchCheck" class="def">touchCheck</a> :: Point V2 Double -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> a (Point V2 Double) -&gt; Bool <a href="#v:touchCheck" class="selflink">#</a></p><div class="doc"><p>check if a vertex location touches (is too close to) any other vertex location in the mapping</p></div></div><div class="top"><p class="src"><a id="v:tooClose" class="def">tooClose</a> :: Point V2 Double -&gt; Point V2 Double -&gt; Bool <a href="#v:tooClose" class="selflink">#</a></p><div class="doc"><p>check if two vertex locatioons are too close (indicating touching vertices)</p></div></div><a href="#g:2" id="g:2"><h1>Boundary operations
</h1></a><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Boundary" class="def">Boundary</a> <a href="#t:Boundary" class="selflink">#</a></p><div class="doc"><p>A Boundary records
the boundary directed edges (directed so that faces are on LHS and exterior is on RHS)
plus 
a mapping of boundary vertices to their incident faces, plus
a mapping of boundary vertices to positions.
It also keeps track of all the faces and vertices, 
and the next vertex label to be used when adding a new vertex.
Note that bvFacesMap is initially only defined for boundary vertices,
but the information is not removed when a vertex is no longer on the boundary (after an update).
Similarly for bvLocMap.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Boundary" class="def">Boundary</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:bDedges" class="def">bDedges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</dfn><div class="doc"><p>boundary directed edges (face on LHS, exterior on RHS)</p></div></li><li><dfn class="src"><a id="v:bvFacesMap" class="def">bvFacesMap</a> :: <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</dfn><div class="doc"><p>faces at each boundary vertex</p></div></li><li><dfn class="src"><a id="v:bvLocMap" class="def">bvLocMap</a> :: <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> (Point V2 Double)</dfn><div class="doc"><p>position of each boundary vertex</p></div></li><li><dfn class="src"><a id="v:allFaces" class="def">allFaces</a> :: [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>]</dfn><div class="doc"><p>all the tile faces</p></div></li><li><dfn class="src"><a id="v:allVertices" class="def">allVertices</a> :: [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>]</dfn><div class="doc"><p>all the vertices</p></div></li><li><dfn class="src"><a id="v:nextVertex" class="def">nextVertex</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a></dfn><div class="doc"><p>next vertex number</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Boundary">Instances</h4><details id="i:Boundary" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Boundary:Show:1"></span> Show <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></span> <a href="#t:Boundary" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Boundary:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tgraph-Force.html">Tgraph.Force</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:makeBoundary" class="def">makeBoundary</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> <a href="#v:makeBoundary" class="selflink">#</a></p><div class="doc"><p>Calculates Boundary information from a Tgraph</p></div></div><div class="top"><p class="src"><a id="v:recoverGraph" class="def">recoverGraph</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:recoverGraph" class="selflink">#</a></p><div class="doc"><p>Converts a Boundary back to a Tgraph</p></div></div><div class="top"><p class="src"><a id="v:changeVFMap" class="def">changeVFMap</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>] -&gt; <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] <a href="#v:changeVFMap" class="selflink">#</a></p><div class="doc"><p>changeVFMap f vfmap vs - adds f to the list of faces associated with each v in vs and updates vfmap</p></div></div><div class="top"><p class="src"><a id="v:facesAtBV" class="def">facesAtBV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] <a href="#v:facesAtBV" class="selflink">#</a></p><div class="doc"><p>facesAtBV bd v - returns the faces found at v (which must be a boundary vertex)</p></div></div><div class="top"><p class="src"><a id="v:boundaryFaces" class="def">boundaryFaces</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] <a href="#v:boundaryFaces" class="selflink">#</a></p><div class="doc"><p>return the (set of) faces which have a boundary vertex from boundary information</p></div></div><a href="#g:3" id="g:3"><h1>Updates and ForceState types
</h1></a><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Update" class="def">Update</a> = (Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>) <a href="#t:Update" class="selflink">#</a></p><div class="doc"><p>An Update is a pair of
 a Maybe Vertex identifying the third vertex for a face addition (Nothing means it needs to be created)
 and a makeFace function to create the new face when given a third vertex.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UpdateMap" class="def">UpdateMap</a> = <a href="Tgraph-Prelude.html#t:Mapping" title="Tgraph.Prelude">Mapping</a> <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> <a href="#t:UpdateMap" class="selflink">#</a></p><div class="doc"><p>UpdateMap: partial map associating updates with (some) boundary directed edges.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:ForceState" class="def">ForceState</a> <a href="#t:ForceState" class="selflink">#</a></p><div class="doc"><p>ForceState: The force state records information between executing single face updates during forcing
 (a Boundary and an UpdateMap).</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:ForceState" class="def">ForceState</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:boundaryState" class="def">boundaryState</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:updateMap" class="def">updateMap</a> :: <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a></dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:ForceState">Instances</h4><details id="i:ForceState" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:ForceState:Show:1"></span> Show <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a></span> <a href="#t:ForceState" class="selflink">#</a></td><td class="doc"><p>show applied to a ForceState suppresses the update functions in the updateMap with &quot;fn&quot;.</p></td></tr><tr><td colspan="2"><details id="i:id:ForceState:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tgraph-Force.html">Tgraph.Force</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UpdateGenerator" class="def">UpdateGenerator</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> <a href="#t:UpdateGenerator" class="selflink">#</a></p><div class="doc"><p>UpdateGenerator is the type of functions which can change the UpdateMap when given a Boundary and a focus list of particular directed boundary edges.  It will add particular updates for those focus edges which match a rule. 
 So such functions implement the forcing rules.</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:BoundaryChange" class="def">BoundaryChange</a> <a href="#t:BoundaryChange" class="selflink">#</a></p><div class="doc"><p>BoundaryChange records a new boundary after an update
     plus edges which are no longer on the boundary
     plus a list of boundary edges revised  (used to focus where the update map needs to be recalculated)
     (see affectedBoundary)</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:BoundaryChange" class="def">BoundaryChange</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:newBoundary" class="def">newBoundary</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:removedEdges" class="def">removedEdges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:revisedEdges" class="def">revisedEdges</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:BoundaryChange">Instances</h4><details id="i:BoundaryChange" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:BoundaryChange:Show:1"></span> Show <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a></span> <a href="#t:BoundaryChange" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:BoundaryChange:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tgraph-Force.html">Tgraph.Force</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:affectedBoundary" class="def">affectedBoundary</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] <a href="#v:affectedBoundary" class="selflink">#</a></p><div class="doc"><p>Given a Boundary with a list of boundary edges that have been newly added,
     it creates a list of boundary edges
     that are affected. Namely, the boundary edges sharing a vertex with a new edge.
     For a safe update this will be
     the single new edge + edges either side on the boundary.
     For an unsafe update this will be
     4 edges including the 2 new ones. (Used to make revisedEdges in a BoundaryChange)</p></div></div><a href="#g:4" id="g:4"><h1>forcing operations
</h1></a><div class="top"><p class="src"><a id="v:force" class="def">force</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:force" class="selflink">#</a></p><div class="doc"><p>The main force function using allUGenerator representing all 10 rules</p></div></div><div class="top"><p class="src"><a id="v:wholeTiles" class="def">wholeTiles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:wholeTiles" class="selflink">#</a></p><div class="doc"><p>special case of forcing only half tiles to whole tiles</p></div></div><div class="top"><p class="src"><a id="v:forceWith" class="def">forceWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:forceWith" class="selflink">#</a></p><div class="doc"><p>forceWith uGen: 
     initialises force state before forcing (both using uGen to generate updates).
     It recursively does all updates using forceAll uGen, 
     then gets boundary from the final state and converts back to a Tgraph</p></div></div><div class="top"><p class="src"><a id="v:forceAll" class="def">forceAll</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> <a href="#v:forceAll" class="selflink">#</a></p><div class="doc"><p>forceAll uGen recursively does updates using uGen until there are no more updates, </p></div></div><div class="top"><p class="src"><a id="v:initForceState" class="def">initForceState</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> <a href="#v:initForceState" class="selflink">#</a></p><div class="doc"><p>initForceState uGen g calculates an initial force state with boundary information from g
     and uses uGen on all boundary edges to initialise updateMap.</p></div></div><div class="top"><p class="src"><a id="v:reviseUpdates" class="def">reviseUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> <a href="#v:reviseUpdates" class="selflink">#</a></p><div class="doc"><p>reviseUpdates uGen bdChange: updates the UpdateMap after boundary change (bdChange)
 using uGen to calculate new updates.</p></div></div><div class="top"><p class="src"><a id="v:isSafeUpdate" class="def">isSafeUpdate</a> :: <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; Bool <a href="#v:isSafeUpdate" class="selflink">#</a></p><div class="doc"><p>safe updates are those which do not require a new vertex, 
 so have an identified existing vertex (Just v)</p></div></div><div class="top"><p class="src"><a id="v:findSafeUpdate" class="def">findSafeUpdate</a> :: <a href="Tgraph-Force.html#t:UpdateMap" title="Tgraph.Force">UpdateMap</a> -&gt; Maybe <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> <a href="#v:findSafeUpdate" class="selflink">#</a></p><div class="doc"><p>finds the first safe update - Nothing if there are none (ordering is directed edge key ordering)</p></div></div><a href="#g:5" id="g:5"><h1>Inspecting Force Steps
</h1></a><div class="top"><p class="src"><a id="v:stepForce" class="def">stepForce</a> :: Int -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> <a href="#v:stepForce" class="selflink">#</a></p><div class="doc"><p>stepForce  produces an intermediate state after a given number of steps (face additions)</p></div></div><div class="top"><p class="src"><a id="v:stepForceWith" class="def">stepForceWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; Int -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> <a href="#v:stepForceWith" class="selflink">#</a></p><div class="doc"><p>do a number of force steps using a given UpdateGenerator (used by stepForce)</p></div></div><a href="#g:6" id="g:6"><h1>Single Force Steps
</h1></a><div class="top"><p class="src"><a id="v:oneStepWith" class="def">oneStepWith</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> -&gt; <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe (<a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a>, <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a>) <a href="#v:oneStepWith" class="selflink">#</a></p><div class="doc"><p>oneStepWith uGen fs uses uGen to find updates and does one force step.
 It returns a (maybe) new force sate but paired with the boundary change for debugging purposes</p></div></div><div class="top"><p class="src"><a id="v:oneStepF" class="def">oneStepF</a> :: <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe (<a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a>, <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a>) <a href="#v:oneStepF" class="selflink">#</a></p><div class="doc"><p>oneStepF is a special case of oneStepWith only used for debugging</p></div></div><div class="top"><p class="src"><a id="v:tryUnsafes" class="def">tryUnsafes</a> :: <a href="Tgraph-Force.html#t:ForceState" title="Tgraph.Force">ForceState</a> -&gt; Maybe <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> <a href="#v:tryUnsafes" class="selflink">#</a></p><div class="doc"><p>tryUnsafes: Should only be used when there are no Safe updates in the UpdateMap.
   When touchChecKOn is True any unsafe update producing a touching vertex returns Nothing.
   tryUnsafes works through the unsafe updates in (directed edge) key order and
   completes the first unsafe update that is not blocked, returning
   Just the resulting boundary change (if there was one) and Nothing if all unsafes are blocked.</p></div></div><div class="top"><p class="src"><a id="v:doSafeUpdate" class="def">doSafeUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> <a href="#v:doSafeUpdate" class="selflink">#</a></p><div class="doc"><p>doSafeUpdate bd u adds a new face by completing a safe update u on boundary bd
    (raising an error if u is an unsafe update).
     It returns a BoundaryChange (containing a new Boundary, removed boundary edges and
     revised boundary edge list).
     It checks that the new face is not in conflict with existing faces,
     raising an error if there is a conflict.</p></div></div><div class="top"><p class="src"><a id="v:commonV" class="def">commonV</a> :: (Eq b, Show b) =&gt; [(b, b)] -&gt; b <a href="#v:commonV" class="selflink">#</a></p><div class="doc"><p>given 2 adjacent directed edges, this returns the common vertex.
 Raises an error if the argument is not 2 adjacent directed edges</p></div></div><div class="top"><p class="src"><a id="v:tryUnsafeUpdate" class="def">tryUnsafeUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; Maybe <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> <a href="#v:tryUnsafeUpdate" class="selflink">#</a></p><div class="doc"><p>tryUnsafeUpdate bd u, calculates the resulting boundary change for an unsafe update (u) with a new vertex
     (raising an error if u is a safe update).
     It checks that the new face is not in conflict with existing faces (raising an error if there is a conflict).
     If touchCheckOn is True, it performs a touching vertex check with the new vertex
     returning Nothing if there is a touching vertex.
     Otherwise it returns Just a boundary change.</p></div></div><div class="top"><p class="src"><a id="v:doUpdate" class="def">doUpdate</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> -&gt; <a href="Tgraph-Force.html#t:BoundaryChange" title="Tgraph.Force">BoundaryChange</a> <a href="#v:doUpdate" class="selflink">#</a></p><div class="doc"><p>doUpdate: do a single update (safe or unsafe)</p></div></div><a href="#g:7" id="g:7"><h1>Conflict Test
</h1></a><div class="top"><p class="src"><a id="v:noConflict" class="def">noConflict</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Bool <a href="#v:noConflict" class="selflink">#</a></p><div class="doc"><p>noConflict fc fcs  where fc is a new face and fcs are neighbouring faces.
 There is no conflict if none of the new directed face edges of fc are already directed edges
 of neighbouring faces fcs (in the same direction)
 and the edge length types (phi/nonPhi) do not conflict.</p></div></div><a href="#g:8" id="g:8"><h1>Forcing Rules become Update Generators
</h1></a><div class="doc"><p>Forcing rules</p><ol><li>(wholeTileUpdates) When a join edge is on the boundary - add the missing half tile to make a whole tile.    </li><li>(kiteBelowDartUpdates) When a half dart has its short edge on the boundary
   add the half kite that must be on the short edge
   (this is at ace vertices but also helps with jack and deuce vertices).  </li><li>(kiteWingDartOriginUpdates) When a vertex is both a dart origin and a kite wing it must be a queen or king vertex.
   If there is a boundary short edge of a kite half at the vertex, 
   add another kite half sharing the short edge. 
   (This converts 1 kite to 2 and 3 kites to 4 in combination with the first rule).</li><li>(kiteGapUpdates) When two half kites share a short edge their oppV vertex must be a deuce vertex.
   Add any missing half darts needed to complete the vertex.
   (In the gap between the other two short edges of the full kites).</li><li>(secondTouchingDartUpdates) When a single dart wing is at a vertex which is recognised as an incomplete jack vertex
   and has a complete kite below the dart wing, 
   add a second dart half touching at the vertex (sharing the kite below).
   This is also known as a *largeDartBase* vertex (= new dart base next level up - see later)</li><li>(sunStarUpdates) When a vertex has 3 or 4 whole kite origins (= 6 or 8 half kite origins)
   it must be a sun centre. Also if a vertex has 4 whole dart origins (= 8 half dart origins)
   it must be a star centre.
   Add an appropriate half kite/dart on a boundary long edge at the vertex.
   (This will complete suns (resp. stars) along with rule 1),</li><li>(dartKiteTopUpdates) When a dart half has its wing recognised as a jack (largeDartBase) vertex
   add a missing kite half on its long edge.</li><li>(thirdDartUpdates) When a vertex is a kite wing and also an origin for exactly 4 dart halves
   it must be a king vertex.
   Add a missing dart half (on any boundary long edge of a dart at the vertex).</li><li>(queenDartUpdates) If there are 4 kite wings at a vertex (necessarily a queen)
   add any missing half dart on a boundary kite long edge</li><li>(queenKiteUpdates) If there are 3 kite wings at a vertex (necessarily a queen)
   add any missing fourth half kite on a boundary kite short edge</li></ol></div><div class="top"><p class="src"><a id="v:allUGenerator" class="def">allUGenerator</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:allUGenerator" class="selflink">#</a></p><div class="doc"><p>allUGenerator combines all the 10 update generators.
     They are composed (keeping the order) after applying each to the
     supplied boundary and focus edge list arguments                        </p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UFinder" class="def">UFinder</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; [(<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>, <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>)] <a href="#t:UFinder" class="selflink">#</a></p><div class="doc"><p>UFinder (Update case finder function). Given a Boundary and a list of (focus) boundary directed edges,
 such a function returns each focus edge satisfying the particular update case paired with the tileface
 matching that edge. For example, if the function is looking for dart short edges on the boundary,
 it will return only those focus edges which have a matching half-dart short edge,
 each paired with the corresponding half-dart.</p></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:UMaker" class="def">UMaker</a> = <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:Update" title="Tgraph.Force">Update</a> <a href="#t:UMaker" class="selflink">#</a></p><div class="doc"><p>UMaker (Update creator function). Given a Boundary and a particular tileface (on the boundary),
 such a function produces a unique update for that edge.
 For example, if the function is looking to add half-kites to dart short edges it will 
 produce the appropriate update when given a Boundary and half-dart tileface
 (whose short edge must be on the boundary).</p></div></div><div class="top"><p class="src"><a id="v:boundaryFilter" class="def">boundaryFilter</a> :: (<a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; Bool) -&gt; <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:boundaryFilter" class="selflink">#</a></p><div class="doc"><p>This is a general purpose filter used to create UFinder functions for each force rule.
 It requires a face predicate.
 The face predicate takes a Boundary bd, a boundary DEdge (a,b) and a TileFace at a
 (the first vertex of the directed edge)
 and decides whether the face is wanted or not (True = wanted)
 This will be used to filter all the faces at the focus edges 
 (when given a Boundary and list of focus edges).
 For some predicates the boundary argument is not used (eg boundaryJoin in incompleteHalves), 
 but for others it is used to look at all the faces at b or at other faces at a besides the supplied fc 
 (eg kiteWDO in kitesWingDartOrigin) </p></div></div><div class="top"><p class="src"><a id="v:makeGenerator" class="def">makeGenerator</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> -&gt; <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> -&gt; <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:makeGenerator" class="selflink">#</a></p><div class="doc"><p>makeGenerator combines an update creator (UMaker) with its corresponding update case finder (UFinder)
     to create an update generator function.
     This is used to make all of the 10 update generators corresponding to 10 rules </p><p>When given a boundary, list of focus edges and an update map,
    the finder produces a list of new pairs of dEdge and face,
    the maker is used to convert the face in each pair to an update,
    the new (dedge,update) pairs are added to the final update map</p></div></div><a href="#g:9" id="g:9"><h1>Ten Update Generators (with corresponding Finders)
</h1></a><div class="top"><p class="src"><a id="v:wholeTileUpdates" class="def">wholeTileUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:wholeTileUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (1)</p></div></div><div class="top"><p class="src"><a id="v:incompleteHalves" class="def">incompleteHalves</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:incompleteHalves" class="selflink">#</a></p><div class="doc"><p>Find faces with missing opposite face (mirror face)  </p></div></div><div class="top"><p class="src"><a id="v:kiteBelowDartUpdates" class="def">kiteBelowDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:kiteBelowDartUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (2)</p></div></div><div class="top"><p class="src"><a id="v:nonKDarts" class="def">nonKDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:nonKDarts" class="selflink">#</a></p><div class="doc"><p>Find half darts with boundary short edge</p></div></div><div class="top"><p class="src"><a id="v:kiteWingDartOriginUpdates" class="def">kiteWingDartOriginUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:kiteWingDartOriginUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (3)
 queen and king vertices add a missing kite half</p></div></div><div class="top"><p class="src"><a id="v:kitesWingDartOrigin" class="def">kitesWingDartOrigin</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:kitesWingDartOrigin" class="selflink">#</a></p><div class="doc"><p>Find kites with boundary short edge where the wing is also a dart origin</p></div></div><div class="top"><p class="src"><a id="v:kiteGapUpdates" class="def">kiteGapUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:kiteGapUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (4)
     (for deuce vertices = largeKiteCentres)
     Kites whose short edge (b,a) matches a boundary edge (a,b) where their oppV (= a for LK and = b for RK)
     has 2 other kite halves sharing a shortE.
     These need a dart adding on the short edge.</p></div></div><div class="top"><p class="src"><a id="v:kiteGaps" class="def">kiteGaps</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:kiteGaps" class="selflink">#</a></p><div class="doc"><p>Find kite halves with a short edge on the boundary (a,b) 
 where there are 2 other kite halves sharing a short edge
 at oppV of the kite half (a for left kite and b for right kite)</p></div></div><div class="top"><p class="src"><a id="v:secondTouchingDartUpdates" class="def">secondTouchingDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:secondTouchingDartUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (5)
 secondTouchingDartUpdates - jack vertex add a missing second dart</p></div></div><div class="top"><p class="src"><a id="v:noTouchingDarts" class="def">noTouchingDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:noTouchingDarts" class="selflink">#</a></p><div class="doc"><p>Find kite halves with a short edge on the boundary (a,b) where oppV is a largeDartBase vertex
 (oppV is a for left kite and b for right kite).
 The function mustbeLDB determines if a vertex must be a a largeDartBase</p></div></div><div class="top"><p class="src"><a id="v:mustbeLDB" class="def">mustbeLDB</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; Bool <a href="#v:mustbeLDB" class="selflink">#</a></p><div class="doc"><p>mustbeLDB (large dart base / jack) is true of a boundary vertex if
 it is the wing of two darts not sharing a long edge or
 it is a wing of a dart and also a kite origin
 (false means it is either undetermined or is a large kite centre)</p></div></div><div class="top"><p class="src"><a id="v:hasAnyMatchingE" class="def">hasAnyMatchingE</a> :: [<a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a>] -&gt; Bool <a href="#v:hasAnyMatchingE" class="selflink">#</a></p><div class="doc"><p>hasMatching asks if a directed edge list has any two matching (=opposing) directed edges.</p></div></div><div class="top"><p class="src"><a id="v:sunStarUpdates" class="def">sunStarUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:sunStarUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (6)
sunStarUpdates is for vertices that must be either sun or star 
almostSunStar finds half-kites/half-darts with a long edge on the boundary
where their origin vertex has 8 total half-kites/half-darts respectively
or their origin vertex has 6 total half-kites in the case of kites only
completeSunStar will add a new face of the same type (dart/kite) 
sharing the long edge.</p></div></div><div class="top"><p class="src"><a id="v:almostSunStar" class="def">almostSunStar</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:almostSunStar" class="selflink">#</a></p><div class="doc"><p>Find a boundary long edge of either
 a dart where there are at least 7 dart origins, or
 a kite where there are at least 6 kite origins</p></div></div><div class="top"><p class="src"><a id="v:dartKiteTopUpdates" class="def">dartKiteTopUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:dartKiteTopUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (7)
 jack vertices (largeDartBases) with dart long edge on boundary - add missing kite top</p></div></div><div class="top"><p class="src"><a id="v:noKiteTopDarts" class="def">noKiteTopDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:noKiteTopDarts" class="selflink">#</a></p><div class="doc"><p>Find jack vertices (largeDartBases) with dart long edge on the boundary</p></div></div><div class="top"><p class="src"><a id="v:thirdDartUpdates" class="def">thirdDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:thirdDartUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (8)
 king vertices with 2 of the 3 darts  - add another half dart on a boundary long edge of existing darts</p></div></div><div class="top"><p class="src"><a id="v:missingThirdDarts" class="def">missingThirdDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:missingThirdDarts" class="selflink">#</a></p><div class="doc"><p>Find king vertices with 2 of the 3 darts (a kite wing and 4 dart origins present)
 and a kite long edge on the boundary</p></div></div><div class="top"><p class="src"><a id="v:queenDartUpdates" class="def">queenDartUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:queenDartUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (9)
 queen vertices (with 4 kite wings) -- add any missing half dart on a boundary kite long edge</p></div></div><div class="top"><p class="src"><a id="v:queenMissingDarts" class="def">queenMissingDarts</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:queenMissingDarts" class="selflink">#</a></p><div class="doc"><p>Find queen vertices (with 4 kite wings) and a boundary kite long edge</p></div></div><div class="top"><p class="src"><a id="v:queenKiteUpdates" class="def">queenKiteUpdates</a> :: <a href="Tgraph-Force.html#t:UpdateGenerator" title="Tgraph.Force">UpdateGenerator</a> <a href="#v:queenKiteUpdates" class="selflink">#</a></p><div class="doc"><p>Update generator for rule (10)
 queen vertices with 3 kite wings -- add missing fourth half kite on a boundary kite short edge</p></div></div><div class="top"><p class="src"><a id="v:queenMissingKite" class="def">queenMissingKite</a> :: <a href="Tgraph-Force.html#t:UFinder" title="Tgraph.Force">UFinder</a> <a href="#v:queenMissingKite" class="selflink">#</a></p><div class="doc"><p>Find queen vertices with only 3 kite wings and a kite short edge on the boundary</p></div></div><a href="#g:10" id="g:10"><h1>Six Update Makers
</h1></a><div class="top"><p class="src"><a id="v:completeHalf" class="def">completeHalf</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:completeHalf" class="selflink">#</a></p><div class="doc"><p>completeHalf will make an update to
  add a symmetric (mirror) face for a given face at a boundary join edge.</p></div></div><div class="top"><p class="src"><a id="v:addKiteShortE" class="def">addKiteShortE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:addKiteShortE" class="selflink">#</a></p><div class="doc"><p>add a (missing) half kite on a (boundary) short edge of a dart or kite</p></div></div><div class="top"><p class="src"><a id="v:addDartShortE" class="def">addDartShortE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:addDartShortE" class="selflink">#</a></p><div class="doc"><p>add a half dart top to a boundary short edge of a half kite.</p></div></div><div class="top"><p class="src"><a id="v:completeSunStar" class="def">completeSunStar</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:completeSunStar" class="selflink">#</a></p><div class="doc"><p>add a kite half to a kite long edge or dart half to a dart long edge</p></div></div><div class="top"><p class="src"><a id="v:addKiteLongE" class="def">addKiteLongE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:addKiteLongE" class="selflink">#</a></p><div class="doc"><p>add a kite to a long edge of a dart or kite</p></div></div><div class="top"><p class="src"><a id="v:addDartLongE" class="def">addDartLongE</a> :: <a href="Tgraph-Force.html#t:UMaker" title="Tgraph.Force">UMaker</a> <a href="#v:addDartLongE" class="selflink">#</a></p><div class="doc"><p>add a half dart on a boundary long edge of a dart or kite</p></div></div><a href="#g:11" id="g:11"><h1>Other Forcing operations
</h1></a><div class="top"><p class="src"><a id="v:forceSub" class="def">forceSub</a> :: <a href="Tgraph-Prelude.html#t:SubTgraph" title="Tgraph.Prelude">SubTgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:SubTgraph" title="Tgraph.Prelude">SubTgraph</a> <a href="#v:forceSub" class="selflink">#</a></p><div class="doc"><p>force applied to a SubTgraph - has no effect on tracked subsets but applies force to the full Tgraph.</p></div></div><div class="top"><p class="src"><a id="v:addHalfKite" class="def">addHalfKite</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:addHalfKite" class="selflink">#</a></p><div class="doc"><p>[addHalfKite and addHalfDart are not efficient but used to tinker with a Tgraph by adding a single half tile
 e.g. to see how it affects forcing. They use the update makers (UMaker).]</p><p>addHalfKite is for adding a single half kite on a chosen DEdge of a Tgraph.
 The DEdge must be a boundary edge but the direction is not important as
 the correct direction is automatically calculated.
 It will fail if the edge is a dart join.</p></div></div><div class="top"><p class="src"><a id="v:addHalfDart" class="def">addHalfDart</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:addHalfDart" class="selflink">#</a></p><div class="doc"><p>addHalfDart is for adding a single half dart on a chosen DEdge of a Tgraph.
 The DEdge must be a boundary edge but the direction is not important as
 the correct direction is automatically calculated.
 It will fail if the edge is a dart short edge or kite join.</p></div></div><div class="top"><p class="src"><a id="v:forceLDB" class="def">forceLDB</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:forceLDB" class="selflink">#</a></p><div class="doc"><p>For an unclassifiable dart wing v in a Tgraph, force it to become a large dart base (largeDartBase) by
 adding a second half dart face (sharing the kite below the existing half dart face at v)
 This assumes exactly one dart wing tip is at v, and that half dart has a full kite below it.</p></div></div><div class="top"><p class="src"><a id="v:forceLKC" class="def">forceLKC</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> <a href="#v:forceLKC" class="selflink">#</a></p><div class="doc"><p>For an unclassifiable dart wing v in a Tgraph, force it to become a large kite centre (largeKiteCentres) by adding
 3 faces - a second half dart face sharing the long edge of the existing half dart face at v,
 and then completing the kite on the new half dart short edge.
 This assumes exactly one dart wing tip is at v.
 (Note: farK for a half-dart d is that half of a full kite attached to the short edge of d
 which does not share an edge with d). 
 It is safe to add the 3 parts because v being unknown ensures the
 existing dart has a boundary long edge and 
 the new farK does not already exist (attached to existing dart farK),
 provided the existing dart half has no kite or a full kite below.
 If it has only a half kite below, but the new farK exists, then v will already be a crossing boundary.</p></div></div><div class="top"><p class="src"><a id="v:mustFind" class="def">mustFind</a> :: Foldable t =&gt; (p -&gt; Bool) -&gt; t p -&gt; p -&gt; p <a href="#v:mustFind" class="selflink">#</a></p><div class="doc"><p>mustFind is used to search (in forceLKC and forceLDB)
mustFind p ls err returns the first item in ls satisfying predicate p and returns
err argument when none found       </p></div></div><a href="#g:12" id="g:12"><h1>Adding faces (Auxiliary operations)
</h1></a><div class="top"><p class="src"><a id="v:findThirdV" class="def">findThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; (Int, Int) -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:findThirdV" class="selflink">#</a></p><div class="doc"><p>findThirdV is the main exported interface to find a third vertex for a face added to
 the RIGHT HAND SIDE of a directed boundary edge.
 It is a simpler interface for searchThirdV (which it uses).
 In findThirdV bd (a,b) (n,m), the two integer arguments n and m are the INTERNAL angles
 for the new face on the boundary edge (a,b)
 (for a and b respectively) expressed as multiples of tt (tt being a tenth turn) and must both be either 1,2, or 3 
 It converts n and m to the correct IntAngles,
 subtracting n from 10 to get the antiClockwise (external) angle on the first vertex (a),
 before calling searchThirdV to return a Maybe Vertex. (See also searchThirdV)</p></div></div><div class="top"><p class="src"><a id="v:anglesForJoinRD" class="def">anglesForJoinRD</a> :: (Int, Int) <a href="#v:anglesForJoinRD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForJoinLD" class="def">anglesForJoinLD</a> :: (Int, Int) <a href="#v:anglesForJoinLD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForJoinRK" class="def">anglesForJoinRK</a> :: (Int, Int) <a href="#v:anglesForJoinRK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForJoinLK" class="def">anglesForJoinLK</a> :: (Int, Int) <a href="#v:anglesForJoinLK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForLongLD" class="def">anglesForLongLD</a> :: (Int, Int) <a href="#v:anglesForLongLD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForLongRD" class="def">anglesForLongRD</a> :: (Int, Int) <a href="#v:anglesForLongRD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForLongRK" class="def">anglesForLongRK</a> :: (Int, Int) <a href="#v:anglesForLongRK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForLongLK" class="def">anglesForLongLK</a> :: (Int, Int) <a href="#v:anglesForLongLK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForShortLD" class="def">anglesForShortLD</a> :: (Int, Int) <a href="#v:anglesForShortLD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForShortRD" class="def">anglesForShortRD</a> :: (Int, Int) <a href="#v:anglesForShortRD" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForShortLK" class="def">anglesForShortLK</a> :: (Int, Int) <a href="#v:anglesForShortLK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><a id="v:anglesForShortRK" class="def">anglesForShortRK</a> :: (Int, Int) <a href="#v:anglesForShortRK" class="selflink">#</a></p><div class="doc"><p>mnemonic for internal angles of an edge (expressed as integer units of a tenth turn (I.e 1,2 or 3)</p></div></div><div class="top"><p class="src"><span class="keyword">newtype</span> <a id="t:IntAngle" class="def">IntAngle</a> <a href="#t:IntAngle" class="selflink">#</a></p><div class="doc"><p>IntAngles are Ints mod 10</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:IntAngle" class="def">IntAngle</a> Int</td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:IntAngle">Instances</h4><details id="i:IntAngle" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IntAngle:Show:1"></span> Show <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></span> <a href="#t:IntAngle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IntAngle:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tgraph-Force.html">Tgraph.Force</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:IntAngle:Eq:2"></span> Eq <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a></span> <a href="#t:IntAngle" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:IntAngle:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tgraph-Force.html">Tgraph.Force</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Bool</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:intAngle" class="def">intAngle</a> :: Int -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> <a href="#v:intAngle" class="selflink">#</a></p><div class="doc"><p>make an IntAngle from an Int (using <code>mod</code> 10)</p></div></div><div class="top"><p class="src"><a id="v:anti" class="def">anti</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> <a href="#v:anti" class="selflink">#</a></p><div class="doc"><p>from IntAngle n, turn clockwise/anticlockwise by IntAngle m to get a new IntAngle</p></div></div><div class="top"><p class="src"><a id="v:clock" class="def">clock</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> <a href="#v:clock" class="selflink">#</a></p><div class="doc"><p>from IntAngle n, turn clockwise/anticlockwise by IntAngle m to get a new IntAngle</p></div></div><div class="top"><p class="src"><a id="v:searchThirdV" class="def">searchThirdV</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:DEdge" title="Tgraph.Prelude">DEdge</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:searchThirdV" class="selflink">#</a></p><div class="doc"><p>searchThirdV is the main function for constructing a new face.
searchThirdV bd (a,b) nAnti nClock will find the third vertex of a face to be added to
the RIGHT HAND SIDE of boundary directed edge (a,b) by inspecting the edges found at a and b.
(To add to the LHS of (a,b) then the boundary direction must be (b,a) so add to the right of (b,a))</p><p>nAnti is the IntAngle searched for at vertex a going anticlockwise (starting with (a,b) as IntAngle 0).
nAnti should be formed from integers 7, 8, or 9 for the face to be on RHS.</p><p>nClock is the IntAngle searched for at vertex b going clockwise (starting with (b,a) as IntAngle 0).
nClock should be formed from integers 1,2, or 3 for the face to be on RHS.</p><p>If existing edges are found in the specified directions
they are used and the associated third vertex is returned (Just v). 
If nothing is found, Nothing is returned - indicating that a new vertex is needed.</p><p>A gap in faces processed round a and b (i.e. a boundary edge before all faces are checked) will indicate
a *crossing boundary* error
where it is unsafe to conclude the edges do not exist.
This problem should be detected by findClockAt and findAntiAt.</p></div></div><div class="top"><p class="src"><a id="v:findClockAt" class="def">findClockAt</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:findClockAt" class="selflink">#</a></p><div class="doc"><p>findClockAt bd n (a,b) fcs
(for a boundary bd and boundary directed edge (a,b) and faces at b fcs)
findClockAt bd n (a,b) fcs will look at directed edges from b of fcs going anti-clockwise round b with
their direction starting with (b,a) in direction 0.
It then returns Just c if (b,c) is found in direction n on the boundary.
It will return Nothing if no such edge (b,c) is found BUT a *crossing boundary* error
if a boundary edge is found before the sought angle.
It also produces an error if the last angle found is below the one searched for.
This indicates an incorrect graph, and the boundary argument is used just for reporting the error
in such cases.</p><p>findClockAt, findAntiAt
For a boundary bd and boundary directed edge (a,b) 
findAntiAt bd n (a,b) fcs will look at directed edges from a of fcs going anti-clockwise round a with
their direction starting with (a,b) in direction 0.
fcs must be the faces at a. It then returns Just c if (a,c) is found in direction n on the boundary.
It will return Nothing if no such edge (a,c) is found BUT a *crossing boundary* error
if a boundary edge is found before the sought angle.
It also produces an error if the last angle found is beyond the one searched for.
This indicates an incorrect graph, and the boundary argument is used just for reporting the error
in such cases.
Similarly findClockAt in the clockwise direction but called with the reverse directed edge,
so fcs must be faces at b.</p></div></div><div class="top"><p class="src"><a id="v:findAntiAt" class="def">findAntiAt</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:findAntiAt" class="selflink">#</a></p><div class="doc"><p>findAntiAt bd n (a,b) fcs
(for a boundary bd and boundary directed edge (a,b) and faces at a fcs)
will look at directed edges from a of fcs going anti-clockwise round a with
their direction starting with (a,b) in direction 0.
It then returns Just c if (a,c) is found in direction n on the boundary.
It will return Nothing if no such edge (a,c) is found BUT a *crossing boundary* error
if a boundary edge is found before the sought angle.
It also produces an error if the last angle found is beyond the one searched for.
This indicates an incorrect graph, and the boundary argument is used just for reporting the error
in such cases.</p><p>findClockAt, findAntiAt
For a boundary bd and boundary directed edge (a,b) 
findAntiAt bd n (a,b) fcs will look at directed edges from a of fcs going anti-clockwise round a with
their direction starting with (a,b) in direction 0.
fcs must be the faces at a. It then returns Just c if (a,c) is found in direction n on the boundary.
It will return Nothing if no such edge (a,c) is found BUT a *crossing boundary* error
if a boundary edge is found before the sought angle.
It also produces an error if the last angle found is beyond the one searched for.
This indicates an incorrect graph, and the boundary argument is used just for reporting the error
in such cases.
Similarly findClockAt in the clockwise direction but called with the reverse directed edge,
so fcs must be faces at b.</p></div></div><div class="top"><p class="src"><a id="v:errorCheckAnti" class="def">errorCheckAnti</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:errorCheckAnti" class="selflink">#</a></p><div class="doc"><p>errorCheckAnti bd v n and errorCheckClock bd v n are used instead of just lookup n, 
 because the search for n should find it in the front pair on the list or not at all.
 However if the first angle is smaller than n for checkClockFor or bigger than n for checkAntiFor,
 there is an incorrect graph.  The first 2 arguments are passed only to report such errors.</p></div></div><div class="top"><p class="src"><a id="v:errorCheckClock" class="def">errorCheckClock</a> :: <a href="Tgraph-Force.html#t:Boundary" title="Tgraph.Force">Boundary</a> -&gt; <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; Maybe <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> <a href="#v:errorCheckClock" class="selflink">#</a></p><div class="doc"><p>errorCheckAnti bd v n and errorCheckClock bd v n are used instead of just lookup n, 
 because the search for n should find it in the front pair on the list or not at all.
 However if the first angle is smaller than n for checkClockFor or bigger than n for checkAntiFor,
 there is an incorrect graph.  The first 2 arguments are passed only to report such errors.</p></div></div><div class="top"><p class="src"><a id="v:smallerAngle" class="def">smallerAngle</a> :: <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> -&gt; Bool <a href="#v:smallerAngle" class="selflink">#</a></p><div class="doc"><p>x is a smaller IntAngle than y if the (mod 10) integer of x is smaller than the (mod 10) integer of y</p></div></div><div class="top"><p class="src"><a id="v:allAnglesClock" class="def">allAnglesClock</a> :: [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] <a href="#v:allAnglesClock" class="selflink">#</a></p><div class="doc"><p>allAnglesClock and allAnglesAnti are used by findClockAt and findAntiAt.
The second argument is the unprocessed list of faces attached to a common vertex a.
The first argument is the accumulated list of directions found so far with last one at the front of the list
e.g (n,last) means the last edge found was (a,last) at angle n.
It looks for another face sharing vertex last (and therefore edge (a,last)) and uses this
to get the next angle and edge. The found face is removed from the list of faces to be processed in the recursive call.
If there is no such face, it will return the whole (angle,vertex) list found so far provided
there are no faces left over.
Faces left over indicate a crossing boundary at the vertex and therefore an error should be reported
(because the angle list is incomplete and unsafe to use).</p></div></div><div class="top"><p class="src"><a id="v:allAnglesAnti" class="def">allAnglesAnti</a> :: [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] -&gt; [<a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a>] -&gt; [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)] <a href="#v:allAnglesAnti" class="selflink">#</a></p><div class="doc"><p>allAnglesClock and allAnglesAnti are used by findClockAt and findAntiAt.
The second argument is the unprocessed list of faces attached to a common vertex a.
The first argument is the accumulated list of directions found so far with last one at the front of the list
e.g (n,last) means the last edge found was (a,last) at angle n.
It looks for another face sharing vertex last (and therefore edge (a,last)) and uses this
to get the next angle and edge. The found face is removed from the list of faces to be processed in the recursive call.
If there is no such face, it will return the whole (angle,vertex) list found so far provided
there are no faces left over.
Faces left over indicate a crossing boundary at the vertex and therefore an error should be reported
(because the angle list is incomplete and unsafe to use).</p></div></div><div class="top"><p class="src"><a id="v:intAngleAt" class="def">intAngleAt</a> :: <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a> -&gt; <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; <a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a> <a href="#v:intAngleAt" class="selflink">#</a></p><div class="doc"><p>intAngleAt v fc gives the internal angle of the face fc at vertex v (which must be a vertex of the face)
 returning an IntAngle (1,2,or 3).</p></div></div><div class="top"><p class="src"><a id="v:faceAngles" class="def">faceAngles</a> :: <a href="Tgraph-Prelude.html#t:TileFace" title="Tgraph.Prelude">TileFace</a> -&gt; [<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>] <a href="#v:faceAngles" class="selflink">#</a></p><div class="doc"><p>faceAngles returns a list of the three internal angles of a face (clockwise from originV)
 represented as IntAngles - always 1 or 2 for kites and 1 or 3 for darts</p></div></div><div class="top"><p class="src"><a id="v:testAngles" class="def">testAngles</a> :: <a href="Tgraph-Prelude.html#t:Tgraph" title="Tgraph.Prelude">Tgraph</a> -&gt; (<a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>) -&gt; ([(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)], [(<a href="Tgraph-Force.html#t:IntAngle" title="Tgraph.Force">IntAngle</a>, <a href="Tgraph-Prelude.html#t:Vertex" title="Tgraph.Prelude">Vertex</a>)]) <a href="#v:testAngles" class="selflink">#</a></p><div class="doc"><p>For testing  allAnglesAnti and allAnglesClock on a boundary directed edge.
The RHS of directed edge (a,b) should be the exterior side.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.25.1</p></div></body></html>